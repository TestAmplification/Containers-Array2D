name: SmallAmpCI
env:
  mode: dspotFastRank
  maxInputs: 10
  shreds: 15  
  timeBudget: 12
  project_baseline: 'ContainersArray2D'
  project_directory: 'src'
  
on:
  workflow_dispatch:
    inputs:
      testClasses:
        description: 'TestClasses to amplify (comma separated) empty-> all'
        required: false
        default: ''
      parallel_jobs:         
        description: 'Max number of all parallel jobs (0 use Input testClasses length)'
        required: true
        default: '8'

jobs:
  TestAmplification:
    uses: TestAmplification/SmallAmpCI/.github/workflows/SmallAmpCI.yml@main
    with:
      testClasses: ${{github.event.inputs.testClasses }}
      mode: ${{env.mode}}
      parallel_jobs: ${{github.event.inputs.parallel_jobs}}
      maxInputs: ${{env.maxInputs}}
      shreds: ${{env.shreds}}
      timeBudget: ${{env.timeBudget}}
      input_project_baseline: ${{env.project_baseline}}
      input_project_directory: ${{env.project_directory}}
    secrets:
      secret_github_token: ${{secrets.GITHUB_TOKEN}}
